<h1>
  Shelters
  <%= link_to "Add Shelter", new_restaurant_path, class: 'btn btn-primary' %>
</h1>

<table class="table table-striped">
  <tr>
    <th>Name</th>
    <th>Description</th>
    <th>Address</th>
    <th>Phone</th>
    <th>Guest Gender</th>
    <th>Free Beds*</th>
    <th>Distance</th>
    <th>Map</th>
  </tr>
  <% @restaurants.each do |restaurant| %>
    <tr id="<%= restaurant.name.downcase.gsub('\'','').gsub(' ','') %>">
      <td><strong><%= link_to restaurant.name, restaurant %></strong></td>
      <td><%= restaurant.description %></td>
      <td><%= restaurant.address %></td>
      <td><%= restaurant.phone %></td>
      <td><%= restaurant.gender %></td>
      <td><%= restaurant.free_bed %></td>
      <td><span class="distance"></span> mi</td>
      <td><a class="view-on-map" onclick="showMarker()" data-info="" data-marker="">View on map</a></td>
    </tr>
  <% end %>

</table>

<!--
<div id='js_data' class='hide'>
  <div id='restaurants_info'><%= restaurants_info(@restaurants) %></div>
</div>
-->

<div id="map_wrapper">
    <div id="map_canvas" class="mapping"></div>
</div>

<%#= render partial: 'all_restaurants_map' %>

<script>
// $.getScript('/assets/restaurants_new.js',function(){
//   $(document).ready(ready); //calls for the function we defined above (first loading)
//   $(document).on('page:load',ready); // the same but for the other loadings
// });
</script>

<!--
<script src="/assets/test.js"></script>
-->